<?xml version="1.0" encoding="UTF-8" ?>
<actions>
    <resource file="file:///android_asset/custom/common/props.sh" />
    <resource file="file:///android_asset/custom/common/magisk.sh" />
    <resource file="file:///android_asset/custom/common/magisk_plus.sh" />
    <resource file="file:///android_asset/custom/common/empty" />

    <!--<action root="false">
        <title>环境变量</title>
        <desc>了解Scene提供的环境变量</desc>
        <script>
            echo "action=$action"
            echo "TEMP_DIR=$TEMP_DIR"
            echo "ANDROID_UID=$ANDROID_UID"
            echo "ANDROID_SDK=$ANDROID_SDK"
            echo "SDCARD_PATH=$SDCARD_PATH"
        </script>
        <params>
            <param name="action" value="12123123" />
        </params>
    </action>-->

    <group title="安卓通用">
        <switch>
            <title>虚拟键设备</title>
            <desc>标识当前设备没有实体按键，MIUI系统可以通过本功能启用全面屏手势，其它系统可以启用虚拟键。重启生效！</desc>
            <getstate>file:///android_asset/custom/switchs/mainkey_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/mainkey_set.sh</setstate>
        </switch>
        <switch>
            <title>Camera2 HAL、EIS</title>
            <desc>启用HAL和EIS，从而支持谷歌相机HDR+功能或避免闪退（谷歌相机需要自行下载适合自己机型的版本）。可能导致相机无法开启或切换缓慢</desc>
            <getstate>file:///android_asset/custom/switchs/gcm_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/gcm_set.sh</setstate>
        </switch>
        <switch>
            <title>Force Software GLES</title>
            <desc>强制软件GLES渲染，开启此选项可能增加耗电甚至界面黑屏，如果默认开启，可尝试关闭</desc>
            <getstate>getprop persist.sys.force_sw_gles</getstate>
            <setstate>
                setprop  persist.sys.force_sw_gles $state
                echo '可能需要重启才会生效'
            </setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/android_n.sh">
            <title>强制分屏</title>
            <desc>适用于Android 7.0+，同开发者设置中的“强制将Activity设为可调整大小”选项。开启此项，从而对声明支持分屏的应用进行分屏操作！</desc>
            <getstate>file:///android_asset/custom/switchs/force_resize_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/force_resize_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/qualcomm/msm_booster_support.sh">
            <title>Performance Boost Config</title>
            <desc>系统根据你启动应用或切换界面的操作，短时间内将CPU频率提高到最佳值（并且不受频率自定义频率限制），提高流畅度增加耗电</desc>
            <getstate>file:///android_asset/custom/switchs/qualcomm/msm_booster_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/qualcomm/msm_booster_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/qualcomm/msm_perfd_support.sh">
            <title>Perfd</title>
            <desc>系统根据你启动应用或切换界面的操作，短时间内将CPU频率提高到最佳值（并且不受频率自定义频率限制），提高流畅度增加耗电</desc>
            <getstate>file:///android_asset/custom/switchs/qualcomm/msm_perfd_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/qualcomm/msm_perfd_set.sh</setstate>
        </switch>
        <action confirm="true">
            <title>清理电池优化白名单</title>
            <desc>适用于Android M+，清理Doze模式白名单应用（某些系统喜欢把一些应用自动添加到白名单，导致这些应用无法被休眠！）</desc>
            <script>file:///android_asset/custom/actions/doze_clear.sh</script>
        </action>
        <action confirm="true">
            <title>清空耗电记录</title>
            <desc>清空应用耗电记录和电池曲线数据，并不是还原电池寿命！</desc>
            <script>file:///android_asset/custom/actions/battery_history_clear.sh</script>
        </action>
        <action>
            <title>低电量级别</title>
            <desc>设置低电量级别，以及触发低电量模式的级别</desc>
            <params>
                <param name="level" desc="低电量模式触发级别"
                    options-sh="file:///android_asset/custom/actions/power_level_options.sh"
                    value-sh="settings get global low_power_trigger_level" />
                <param name="levelmax" desc="低电量提示级别"
                    options-sh="file:///android_asset/custom/actions/power_level_options.sh"
                    value-sh="settings get global low_power_trigger_level_max" />
            </params>
            <script>file:///android_asset/custom/actions/low_power_level_set.sh</script>
        </action>
        <action>
            <title>修改dex2oat线程数</title>
            <desc>增加核心线程数（不超过CPU核心数量）可以提高应用安装效率，但会造成应用安装过程中卡顿！</desc>
            <script>file:///android_asset/custom/actions/dex2oat_threads_set.sh</script>
            <params>
                <param name="boot" desc="启动时(boot-dex2oat-threads)"
                    options-sh="file:///android_asset/custom/actions/thread_count_options.sh"
                    value-sh="getprop dalvik.vm.boot-dex2oat-threads" />
                <param name="dex2oat" desc="启动后(dex2oat-threads)"
                    options-sh="file:///android_asset/custom/actions/thread_count_options.sh"
                    value-sh="getprop dalvik.vm.dex2oat-threads" />
                <param name="image" desc="编译启动映像(image-dex2oat-threads)"
                    options-sh="file:///android_asset/custom/actions/thread_count_options.sh"
                    value-sh="getprop dalvik.vm.image-dex2oat-threads" />
                <param name="other" desc="dex2oat_thread_count" readonly="readonly">
                    <option value="">默认</option>
                </param>
            </params>
        </action>
        <action confirm="true">
            <title>优化系统应用</title>
            <desc>适用于Android N+，使用Speed模式对系统应用进行dex2oat编译。建议官改系统刷完开机后进行此操作，从而恢复流畅度！</desc>
            <script>file:///android_asset/custom/actions/sys_compile.sh</script>
        </action>
        <action support="file:///android_asset/custom/actions/renderer_support.sh">
            <title>HWUI渲染引擎</title>
            <desc sh="file:///android_asset/custom/actions/renderer_desc.sh" />
            <params>
                <param name="renderer"
                    options-sh="file:///android_asset/custom/actions/renderer_options.sh"
                    value-sh="file:///android_asset/custom/actions/renderer_get.sh" />
            </params>
            <script>file:///android_asset/custom/actions/renderer_set.sh</script>
        </action>
        <action>
            <title>过渡动画时长</title>
            <desc>调整各种动画时长</desc>
            <params>
                <param name="window_animation_scale" desc="弹窗动画时长"
                    options-sh="file:///android_asset/custom/actions/anima_level_options.sh"
                    value="1" value-sh="settings get global window_animation_scale" />
                <param name="transition_animation_scale" desc="界面切换动画时长"
                    options-sh="file:///android_asset/custom/actions/anima_level_options.sh"
                    value="1" value-sh="settings get global transition_animation_scale" />
                <param name="animator_duration_scale" desc="动画程序时长"
                    options-sh="file:///android_asset/custom/actions/anima_level_options.sh"
                    value="1" value-sh="settings get global animator_duration_scale" />
            </params>
            <script>
                settings put global window_animation_scale $window_animation_scale
                settings put global transition_animation_scale $transition_animation_scale
                settings put global animator_duration_scale $animator_duration_scale
                echo 'OK!'
            </script>
        </action>
    </group>

    <group title="MIUI专属">
        <action confirm="true" support="file:///android_asset/custom/actions/miui_support.sh">
            <title>开启MIUI9、MIUI10的隐藏温控选项</title>
            <desc>看人品，也许是可以开出来，但不一定啦！据说稳定版是不行的。</desc>
            <script>file:///android_asset/custom/actions/miui_thermal_set.sh</script>
        </action>
        <action support="file:///android_asset/custom/actions/miui_thermal_conf/support.sh">
            <resources>
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/msmnile-high.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/msmnile-nolimits.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/msmnile-danger.conf" />

                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/sdm845-high.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/sdm845-nolimits.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/sdm845-danger.conf" />

                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/8998-high.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/8998-nolimits.conf" />
                <resource file="file:///android_asset/custom/actions/miui_thermal_conf/8998-danger.conf" />
            </resources>
            <title>更改温控配置</title>
            <desc sh="file:///android_asset/custom/actions/miui_thermal_conf/desc.sh">本功能适用于骁龙835、845、855处理器，MIUI官方系统！</desc>
            <param name="mode" desc="温控模式"
                options-sh="file:///android_asset/custom/actions/miui_thermal_conf/options.sh"
                value-sh="file:///android_asset/custom/actions/miui_thermal_conf/current.sh" />
            <param name="platform" desc="处理器(SOC)"
                options-sh="file:///android_asset/custom/actions/miui_thermal_conf/soc-options.sh" />
            <script>file:///android_asset/custom/actions/miui_thermal_conf/config.sh</script>
        </action>
        <switch support="file:///android_asset/custom/switchs/miui/miui_support.sh">
            <title>【MIUI10】状态栏缺口</title>
            <desc>在MIUI10中开启MI8、8SE刘海屏状态栏中间的缺口，减少图标数量，在MiX2和Mi6上测试可用。重启生效！</desc>
            <getstate>file:///android_asset/custom/switchs/miui/mi8status_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/mi8status_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/miui/miui_support.sh">
            <title>【MIUI10】屏幕圆角</title>
            <desc>开关全局圆角效果，在MiX2和Mi6上测试可用。重启生效！</desc>
            <getstate>file:///android_asset/custom/switchs/miui/miui_round_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/miui_round_set.sh</setstate>
        </switch>
        <switch>
            <title>【MIUI10】在线更新检查</title>
            <desc>关闭此开关可以屏蔽在线更新检查</desc>
            <getstate>file:///android_asset/custom/switchs/miui/miui_update_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/miui_update_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/miui/miui_support.sh">
            <title>【MIUI10】安全键盘</title>
            <desc>在输入密码时使用MIUI的安全键盘，避免密码被输入法作为自定义词语记录。重启生效！</desc>
            <getstate>file:///android_asset/custom/switchs/miui/miui_security_keyboard_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/miui_security_keyboard_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/miui/miui_support.sh">
            <resources>
                <resource file="file:///android_asset/custom/switchs/resources/com.android.systemui" />
            </resources>
            <title>【MIUI9】通知中心搜索框</title>
            <desc>关闭此项将通过替换主题资源的方式，隐藏下拉通知中心的搜索框</desc>
            <getstate>file:///android_asset/custom/switchs/miui/miui_notice_search_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/miui_notice_search_set.sh</setstate>
        </switch>
        <switch support="file:///android_asset/custom/switchs/miui/miui_support.sh">
            <resources>
                <resource file="file:///android_asset/custom/switchs/resources/framework-res" />
            </resources>
            <title>【MIUI10】隐藏导航栏</title>
            <desc>通过主题资源修改导航栏高度的方式隐藏掉导航栏，方便使用第三方手势</desc>
            <getstate>file:///android_asset/custom/switchs/miui/miui_hide_nav_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/miui/miui_hide_nav_set.sh</setstate>
        </switch>
    </group>

    <group title="原生专属">
        <switch support="file:///android_asset/custom/switchs/android_n.sh">
            <title>自由窗口</title>
            <desc>开启（原生）系统的窗口模式，在多任务界面显示窗口化按钮</desc>
            <getstate>file:///android_asset/custom/switchs/freeform_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/freeform_set.sh</setstate>
        </switch>
        <switch confirm="true">
            <title>低内存设备</title>
            <desc>开启低内存设备标识，从而激活一些为低端机设计的特性（仅限纯原生系统！！！），定制系统开启后可能无法开机！！！</desc>
            <getstate>file:///android_asset/custom/switchs/lowram_device_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/lowram_device_set.sh</setstate>
        </switch>
        <switch>
            <title>省电模式</title>
            <desc>开关安卓系统自带的省电模式（不是第三方UI自带的省电模式）</desc>
            <getstate>file:///android_asset/custom/switchs/power_save_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/power_save_set.sh</setstate>
        </switch>
        <switch>
            <title>悬浮通知</title>
            <desc>收到消息时在屏幕顶部显示悬浮通知</desc>
            <getstate>settings get global heads_up_notifications_enabled</getstate>
            <setstate>settings put global heads_up_notifications_enabled $state</setstate>
        </switch>
    </group>

    <group title="Flyme专属">
        <switch support="file:///android_asset/custom/switchs/flyme/flyme_support.sh">
            <title>下拉动态模糊</title>
            <desc>关闭此项后，Flyme6下拉通知中心的动态模糊功能会被关闭</desc>
            <getstate>file:///android_asset/custom/switchs/flyme/flyme_blur_get.sh</getstate>
            <setstate>file:///android_asset/custom/switchs/flyme/flyme_blur_set.sh</setstate>
        </switch>
    </group>
</actions>